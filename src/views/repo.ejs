<%- include('./templates/header'); -%>
<!-- 
Autor Jesus pineda / "Otro autor"
14/08/2020
Proposito de esta pagina: Esta es la pagina de productos 
aqui se gestionanran los diferente produstos 
-->
<!-- Aqui Agregar el contenido para las paginas del sistemas  -->

<!-- cards TAbles -->

<div class="container text-white ">
    <div class="row justify-content-center w-100">

        <div data-toggle="tooltip" data-placement="right" title="ADMINISTRAR MESAS" id="tablesOption"
            onclick="changeOptionConfig(this.id)" class="card oprtions text-dark" style="width: 10rem;">
            <div class="card-body">
                <p class="card-text"><strong><i class="fas fa-table"></i></strong></p>
            </div>
        </div>
        <div id="userOption" data-toggle="tooltip" data-placement="right" title="ADMINISTRAR USUARIOS"
            onclick="changeOptionConfig(this.id)" class="card oprtions text-dark" style="width: 10rem;">
            <div class="card-body">
                <p class="card-text"><strong><i class="fas fa-users"></i></strong></p>
            </div>
        </div>
        <div id="promOption" data-toggle="tooltip" data-placement="right" title="ADMINISTRAR PROMOCIONES"
            onclick="changeOptionConfig(this.id)" class="card oprtions text-dark" style="width: 10rem;">
            <div class="card-body">
                <p class="card-text"><i class="fas fa-wallet"></i></strong></p>
            </div>
        </div>

    </div>
</div>
<hr>
<div class="container-fuid">

    <div id="optables" class="main-container-list"> <!-- Reportes productos -->
        <h1 class="card-title text-white w-100">ADMINISTRAR CLIENTES</h1>
        <hr>
        <div class="row">
            <div class="col-md-6">
                <div class="card card-md">

                    <div class="card-body">
                        <h3 class="card-title text-center">Listado de clientes</h3>
                        <table class="borderless table table-responsive-lg text-dark text-center">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col">#Cliente</th>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Telefono</th>
                                    <th scope="col">Correo</th>
                                </tr>
                            </thead>
                            <tbody id="container-list-table">

                            </tbody>
                        </table>

                    </div>

                </div>
            </div>
        </div> 
    </div>

    <div id="opUser" class="d-none main-container-list"> <!-- Reportes ventas -->
        <h1 class="text-white">ADMINISTRAR USUARIOS</h1>
        <hr>
        <div class="row ">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h3 class="text-dark text-center">Lista de usuario</h3>
                        <table id="TableUser" class="borderless table table-responsive-lg text-dark text-center">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Usuario</th>
                                    <th>Tipo</th>
                                    <th colspan="2">Opciones</th>
                                </tr>
                            </thead>
                            <tbody id="myTableUser">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="opProm" class="d-none main-container-list"> <!-- Reportes X -->
        <h1 class="text-white">ADMINISTRAR PROMOCIONES</h1>
        <hr>
        <div class="row ">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h3 class="text-dark text-center">Lista de promociones</h3>
                        <table id="TableUser" class="borderless table table-responsive-lg text-dark text-center">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Id promocion</th>
                                    <th>Descripcion</th>
                                    <th>Valor ( <strong>%</strong> )</th>
                                    <th>Estado</th>
                                    <th colspan="2">Opciones</th>
                                </tr>
                            </thead>
                            <tbody id="myTablePromo">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div> <!-- Fin del container -->

<hr>

<%- include('./templates/scripts.ejs'); -%>
<script src="./js/repoCliente.js"></script>
<script src="./js/usuarios.js"></script>
<script src="./js/promociones.js"></script>

<script>

    $(document).ready(() => {
        getListTable();
    });
    //FUNCION PARA HACER EL CAMBIO DE PANTALLA Y OCULTAR OTROS ELEMENTOS 

    let lastElemnt = document.getElementById('optables');
    const changeOptionConfig = (option) => {
        if (lastElemnt) {
            lastElemnt.classList.add('d-none');
        }
        switch (option) {
            case 'tablesOption':
                if ($("#optables").hasClass("d-none")) {
                    $("#optables").removeClass("d-none");
                    getListTable();
                }
                lastElemnt = document.getElementById('optables');
                break;
            case 'userOption':
                if ($("#opUser").hasClass("d-none")) {
                    $("#opUser").removeClass("d-none");
                    drawTableUser();
                }
                lastElemnt = document.getElementById('opUser');
                break;
            case 'promOption':
                if ($("#opProm").hasClass("d-none")) {
                    $("#opProm").removeClass("d-none");
                    drawTablePromo();
                }
                lastElemnt = document.getElementById('opProm');
                break;

            default:
                break;
        }
    }
</script>